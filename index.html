<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Srinivas ARM | Engineering Blog</title>
    <style>
        /* --- General Styling --- */
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            line-height: 1.6;
            background-color: #f8f9fa;
            color: #212529;
            margin: 0;
            padding: 0;
        }

        /* --- Layout --- */
        .container {
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
            background-color: #ffffff;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        header, footer {
            text-align: center;
            padding: 20px 0;
        }

        header h1 {
            margin: 0;
            font-size: 2.5em;
        }

        header p {
            margin: 5px 0 0;
            color: #6c757d;
        }
        
        hr {
            border: none;
            border-top: 1px solid #e9ecef;
            margin: 40px 0;
        }

        /* --- Typography & Content --- */
        article h2 {
            font-size: 2em;
            color: #0056b3;
        }
        
        article h3 {
            font-size: 1.5em;
            margin-top: 40px;
            border-left: 4px solid #0056b3;
            padding-left: 15px;
        }

        p, li {
            font-size: 1.1em;
            color: #343a40;
        }

        strong {
            color: #000;
        }
        
        .meta-data {
            font-size: 0.9em;
            color: #6c757d;
            margin-bottom: 30px;
        }

        img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            margin: 20px 0;
            border: 1px solid #dee2e6;
        }
        
        footer {
            margin-top: 40px;
            font-size: 0.9em;
            color: #6c757d;
        }
    </style>
</head>
<body>

    <div class="container">
        <header>
            <h1>Srinivas ARM</h1>
            <p>An Engineering Blog on Cloud, AI, and Search</p>
        </header>

        <main>
            <article>
                <h2>Building an Advanced Semantic Search Engine with AWS OpenSearch and Bedrock</h2>
                <p class="meta-data">By Srinivas ARM | Published on September 22, 2025</p>

                <p>In the world of information retrieval, user expectations have evolved. Simply matching keywords is no longer enough. Modern search systems must understand the <strong>intent</strong> and <strong>semantic meaning</strong> behind a user's query to deliver truly relevant results. This post details the architecture for a state-of-the-art semantic search engine built on AWS, leveraging the power of vector search in OpenSearch and the intelligence of foundation models via Amazon Bedrock.</p>

                <h3>The High-Level Architecture</h3>
                <p>The entire process can be divided into two core pipelines: an offline <strong>Content Ingestion Pipeline</strong> that prepares your data, and a real-time <strong>Search Query Pipeline</strong> that serves live user requests.</p>
                
                <img src="semantic-search-architecture.png" alt="Architecture diagram for an advanced semantic search system on AWS">

                <hr>

                <h3>Part 1: Content Ingestion Pipeline (The Offline Preparation)</h3>
                <ol>
                    <li><strong>Data Sources</strong>: Content originates from a primary <strong>Content Database</strong> (like Amazon RDS) and an <strong>AWS S3</strong> bucket, which can act as a "Content Lake" for unstructured data.</li>
                    <li><strong>Data Processing & Chunking</strong>: When new content is added, an <strong>AWS Lambda</strong> or <strong>AWS Fargate</strong> service is triggered. A critical first step is "chunking," where large documents are broken down into smaller, semantically coherent pieces.</li>
                    <li><strong>Vectorization (Creating Embeddings)</strong>: The service takes each chunk and calls the <strong>Cohere Embedding Model</strong> via <strong>AWS Bedrock</strong>. This converts the text into a numerical vector (an "embedding") that represents its meaning.</li>
                    <li><strong>Data Indexing</strong>: The data is stored in <strong>AWS OpenSearch</strong>, which uses two types of indexes:
                        <ul>
                            <li><strong>Vector Store (k-NN Index)</strong>: Stores the vector embeddings for fast similarity searches.</li>
                            <li><strong>Standard Search Index</strong>: Stores the original text and metadata for keyword filtering.</li>
                        </ul>
                    </li>
                </ol>

                <h3>Part 2: Real-Time Search Query Pipeline (The User Interaction)</h3>
                <ol>
                    <li><strong>User Enters Query</strong>: A user types a natural language query like <em>"unique culinary experiences for a date night in New York."</em></li>
                    <li><strong>API Gateway & Query Vectorization</strong>: The request hits an <strong>AWS API Gateway</strong>, which triggers a Lambda function to convert the user's query into a vector using the same Cohere model.</li>
                    <li><strong>Initial Retrieval (Hybrid Search)</strong>: OpenSearch performs a "hybrid" search by combining the results from a <strong>k-NN vector search</strong> and a traditional keyword search to get the best of both worlds.</li>
                    <li><strong>Reranking for Precision</strong>: This is the secret sauce. The top results from the initial search are sent to the <strong>Cohere Rerank Model</strong> via Bedrock. This specialized model intelligently re-orders the list for maximum relevance to the user's specific query.</li>
                    <li><strong>Return Final Results</strong>: The newly reranked and sorted list of results is sent back to the user's interface.</li>
                </ol>
                
            </article>
        </main>

        <footer>
            <p>&copy; 2025 Srinivas ARM. All rights reserved.</p>
        </footer>
    </div>

</body>
</html>
